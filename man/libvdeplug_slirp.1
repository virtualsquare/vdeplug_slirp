.\" Copyright (C) 2019 VirtualSquare. Project Leader: Renzo Davoli
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License,
.\" as published by the Free Software Foundation, either version 2
.\" of the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
.\" MA 02110-1301 USA.
.\"
.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "LIBVDEPLUG_SLIRP" "1" "January 2024" "VirtualSquare" "General Commands Manual"
.SH NAME
\f[CB]libvdeplug_slirp\f[R] \[en] slirp vdeplug module
.SH SYNOPSIS
libvdeplug_slirp.so
.SH DESCRIPTION
This is the libvdeplug module to join TCP\-IP networks using the slirp
emulator.
.PP
This module of libvdeplug4 can be used in any program supporting vde
like \f[CB]vde_plug\f[R], \f[CB]vdens\f[R], \f[CB]kvm\f[R],
\f[CB]qemu\f[R], \f[CB]user\-mode\-linux\f[R] and \f[CB]virtualbox\f[R].
.PP
The vde_plug_url syntax of this module is the following:
.IP
.EX
slirp://[/OPTION][/OPTION]
.EE
.SH OPTIONS
.TP
\f[CB]v4\f[R] \f[CB]v6\f[R]
provide IPv4 or IPv6 service \f[I]only\f[R].
Both family of protocols are enabled
if both \f[CB]v4\f[R] and \f[CB]v6\f[R] options are present of if
neither of them have been specified.
.TP
\f[CB]addr\f[R]=\f[I]IPv4Addr\f[R]/\f[I]prefix\f[R] or \f[CB]host\f[R]=\f[I]IPv4addr\f[R]/\f[I]prefix\f[R]
Set the IPv4 address of slirp (default value 10.0.2.2/24).
.TP
\f[CB]addr6\f[R]=\f[I]IPv6Addr\f[R]/\f[I]prefix\f[R] or \f[CB]host6\f[R]=\f[I]IPv6addr\f[R]/\f[I]prefix\f[R]
Set the IPv6 address of slirp (default value fd00::2/64).
.TP
\f[CB]hostname\f[R]=\f[I]name\f[R]
define the hostname (default value: slirp)
.TP
\f[CB]tftp_server_name\f[R]=\f[I]name\f[R]
define the hostname of the dhcp server
.TP
\f[CB]tftp_path\f[R]=\f[I]path\f[R]
define the path of the directory whose contents are available by the
tftp service
.TP
\f[CB]bootfile\f[R]=\f[I]path\f[R]
define the path of the bootfile (for bootp)
.TP
\f[CB]dhcp\f[R]=\f[I]dhcpIPv4addr\f[R]
set the lowest IP address assigned by dhcp
.TP
\f[CB]vnameserver\f[R]=\f[I]IPv4Addr\f[R]
set the address of the IPv4 DNS proxy
.TP
\f[CB]vnameserver6\f[R]=\f[I]IPv6Addr\f[R]
set the address of the IPv6 DNS proxy
.TP
\f[CB]vdnssearch\f[R]=\f[I]list of domains\f[R]
set the default domains for the neame resolution
e.g.\ \f[CB]vdnssearch=foo.com,bar.org\f[R]
.TP
\f[CB]vdomainname\f[R]=\f[I]name\f[R]
set the domain name
.TP
\f[CB]mtu\f[R]=\f[I]int_value\f[R]
define the MTU
.TP
\f[CB]mru\f[R]==\f[I]int_value\f[R]
define the MRU
.TP
\f[CB]disable_host_loopback\f[R]
disable loopback
.TP
\f[CB]tcpfwd\f[R]=[\f[I]hostIP\f[R]\f[CB]:\f[R]]\f[I]hostport\f[R]\f[CB]:\f[R]\f[I]guestIP\f[R]\f[CB]:\f[R]\f[I]guestport\f[R]\f[CB][,\f[R][\f[I]hostIP\f[R]\f[CB]:\f[R]]\f[I]hostport\f[R]\f[CB]:\f[R]\f[I]guestIP\f[R]\f[CB]:\f[R]\f[I]guestport\f[R]]\&...]
forward TCP port(s).
.TP
\f[CB]udpfwd\f[R]=[\f[I]hostIP\f[R]\f[CB]:\f[R]]\f[I]hostport\f[R]\f[CB]:\f[R]\f[I]guestIP\f[R]\f[CB]:\f[R]\f[I]guestport\f[R]\f[CB][,\f[R][\f[I]hostIP\f[R]\f[CB]:\f[R]]\f[I]hostport\f[R]\f[CB]:\f[R]\f[I]guestIP\f[R]\f[CB]:\f[R]\f[I]guestport\f[R]]\&...]
forward UDP port(s).
.TP
\f[CB]unixfwd\f[R]=[\f[I]slirpIP\f[R]\f[CB]:\f[R]]\f[I]slirpport\f[R]\f[CB]:\f[R]\f[I]path\f[R]\f[CB][,\f[R][\f[I]slirpIP\f[R]\f[CB]:\f[R]]\f[I]slirpport\f[R]\f[CB]:\f[R]\f[I]path\f[R]\&...]
forward TCP port(s) (from the virtual network) to PF_UNIX socket(s)
(commonly used to forward
ports to a X server) \f[I]still unsupported by libslirp\f[R].
.TP
\f[CB]cmdfwd\f[R]=[\f[I]slirpIP\f[R]\f[CB]:\f[R]]\f[I]slirpport\f[R]\f[CB]:\f[R]\f[I]cmd\f[R]\f[CB][,\f[R][\f[I]slirpIP\f[R]\f[CB]:\f[R]]\f[I]slirpport\f[R]\f[CB]:\f[R]\f[I]path\f[R]\&...]
forward TCP port(s) (from the virtual network) to external command(s).
.TP
\f[CB]verbose\f[R]
print a table of slirp service configuration.
.SH EXAMPLES
This vde_plug_url enables both IPv4 and IPv6 (using the default
configuration)
.IP
.EX
slirp://
.EE
.PP
Like the previous example but it prints the table of the configuration
options
.IP
.EX
slirp:///verbose
.EE
.PP
When a program uses the following vde_plug_url:
.IP
.EX
slirp:///tcpfwd=8080:10.0.2.15:80
.EE
.PP
tcp connections to the host computer port 8080 (any interface) are
forwarded to 10.0.2.15 port 80
.IP
.EX
slirp:///tcpfwd=8080:10.0.2.15:80/cmdfwd=10.0.2.5:6000:\[aq]socat STDIO UNIX:\[dq]/tmp/.X11\-unix/X0\[dq]\[aq]
.EE
.PP
like the previous one plus this uses socat to forward all X\-windows
requests to 10.0.2.5:0 (port 6000) to the local server of the display
\f[CB]:0\f[R].
.SH NOTICE
Virtual Distributed Ethernet is not related in any way with www.vde.com
(\[lq]Verband der Elektrotechnik, Elektronik und
Informationstechnik\[rq] i.e.\ the German \[lq]Association for
Electrical, Electronic & Information Technologies\[rq]).
.SH SEE ALSO
\f[CB]vde_plug\f[R](1)
.SH AUTHOR
VirtualSquare.
Project leader: Renzo Davoli
